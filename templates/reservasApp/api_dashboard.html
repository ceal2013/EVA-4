{% extends "reservasApp/gestionReservas.html" %}

{% block content %}
<div class="container">
    <h2 class="mt-4">Gestión de la API</h2>
    <p class="text-muted">Desde aquí puedes interactuar con las funcionalidades avanzadas de la API.</p>
    
    <div class="card mt-4">
        <div class="card-header bg-primary text-white">
            Opciones de la API
        </div>
        <div class="card-body">
            <p class="mb-3">Selecciona una de las siguientes acciones disponibles:</p>
            
            <div class="d-grid gap-2">
                <!-- Botón para listar todas las reservas -->
                <a href="{% url 'api_reserva-list-create' %}" class="btn btn-outline-info">
                    Listar Reservas
                </a>

                
                <!-- Botón para crear una nueva reserva -->
                <a href="{% url 'api_reserva-list-create' %}" class="btn btn-outline-success">
                    Crear Reserva
                </a>
                
                <!-- Botón para gestionar una reserva específica -->
                 <div class="table-responsive">
                    <table class="table table-bordered align-middle table-hover text-center">
                        <thead class="table-primary">
                            <tr>
                                <th scope="col">Reserva</th>
                                <th>Titular</th>
                                <th>Contacto</th>
                                <th>Ingreso</th>
                                <th>Salida</th>
                                <th>Habitación</th>
                                <th>Total</th>
                                <th>Observaciones</th>
                                <th>Acción</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for reserva in reservas %}
                                <tr>
                                    <td>{{ reserva.id }}</td>
                                    <td>{{ reserva.titular }}</td>
                                    <td>{{ reserva.fono }}</td>
                                    <td>{{ reserva.fecha_entrada|date:"d-m-Y" }}</td>
                                    <td>{{ reserva.fecha_salida|date:"d-m-Y" }}</td>
                                    <td>{{ reserva.tipoHab }}</td>
                                    <td>{{ reserva.total }}</td>
                                    <td>{{ reserva.nota }}</td>
                                    <td>
                                        <a href="{% url 'api_reserva-detail' pk=reserva.id %}" class="btn btn-outline-danger">Gestionar</a>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                 </div>

            </div>
        </div>
    </div>

    <div class="alert alert-warning mt-4" role="alert">
        <strong>Nota:</strong> Estas acciones son críticas. Asegúrate de conocer el impacto de cada una antes de proceder.
    </div>
</div>
{% endblock %}